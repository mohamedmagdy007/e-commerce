(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{108:function(e,t,r){},229:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),a=r(34),s=r.n(a),i=r(2),o=r(36),d=r(93),l=r(94),j=r(11),u=r(9),b={userSignin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:"PayPal"}},h=Object(o.combineReducers)({ProductList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return{loading:!0};case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));return c?Object(u.a)(Object(u.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===c.product?r:e}))}):Object(u.a)(Object(u.a)({},e),{},{cartItems:[].concat(Object(j.a)(e.cartItems),[r])});case"CART_REMOVE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING":return Object(u.a)(Object(u.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT":return Object(u.a)(Object(u.a)({},e),{},{paymentMethod:t.payload});case"CART_EMPTY":return Object(u.a)(Object(u.a)({},e),{},{cartItems:[]});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGIN_REQUEST":return{loading:!0};case"USER_SIGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_SIGIN_FAIL":return{loading:!1,error:t.payload};case"USER_SIGNOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAIL":return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REGUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_CREATE_FAIL":return{loading:!1,error:t.payload};case"ORDER_CREATE_RESET":return{};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REGUEST":return{loading:!0};case"ORDER_DETAILS_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REGUEST":return{loading:!0};case"ORDER_PAY_SUCCESS":return{loading:!1,success:!0};case"ORDER_PAY_FAIL":return{loading:!1,error:t.payload};case"ORDER_PAY_RESET":return{};default:return e}},orderMineList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_MINE_LIST_REGUEST":return{loading:!0};case"ORDER_MINE_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_MINE_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REGUEST":return{loading:!0};case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIL":return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REGUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0};case"USER_UPDATE_PROFILE_FAIL":return{loading:!1,error:t.payload};case"USER_UPDATE_PROFILE_REST":return{};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_UPDATE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{loading:!1,error:t.payload};case"PRODUCT_DELETE_RESET":return{};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_REQUEST":return{loading:!0};case"ORDER_LIST_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_FAIL":return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELETE_REQUEST":return{loading:!0};case"ORDER_DELETE_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELETE_FAIL":return{loading:!1,error:t.payload};case"ORDER_DELETE_RESET":return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{loading:!0};case"ORDER_DELIVER_SUCCESS":return{loading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}}}),p=Object(o.createStore)(h,b,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),O=(r(108),r(5)),m=r(10),x=r(0);function g(e){return Object(x.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}var v=r(4),f=r.n(v),E=r(6),y=r(8),S=r.n(y),R=function(e,t){return function(){var r=Object(E.a)(f.a.mark((function r(c,n){var a,s;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S.a.get("/api/products/".concat(e));case 2:a=r.sent,s=a.data,c({type:"CART_ADD_ITEM",payload:{name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,product:s._id,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};function _(e){var t=e.match.params.id,r=e.location.search?Number(e.location.search.split("=")[1]):1,n=Object(i.b)(),a=Object(i.c)((function(e){return e.cart})).cartItems;Object(c.useEffect)((function(){t&&n(R(t,r))}),[n,t,r]);var s=function(e){n(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r,c){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("../images/1.jpg")'},children:Object(x.jsx)("h1",{children:"CART"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"row top",children:[Object(x.jsxs)("div",{className:"col-2",children:[Object(x.jsx)("h2",{children:"Shopping Cart"}),0===a.length?Object(x.jsxs)(g,{children:["Cart is emoty. ",Object(x.jsx)(O.b,{to:"/",children:"Go Shopping"})]}):Object(x.jsx)("ul",{children:a.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(x.jsx)("div",{className:"min-30",children:Object(x.jsx)(O.b,{to:"/product/".concat(e.product),children:e.name})}),Object(x.jsx)("div",{children:Object(x.jsx)("select",{value:e.qty,onChange:function(t){return n(R(e.product,Number(t.target.value)))},children:Object(j.a)(Array(e.countInStock).keys()).map((function(e){return Object(x.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(x.jsxs)("div",{children:["$ ",e.price]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"button",onClick:function(){return s(e.product)},children:"Delete"})})]})},e.product)}))})]}),Object(x.jsx)("div",{className:"col-1",children:Object(x.jsx)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",padding:"15px 15px 25px"},children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("h2",{children:["Subtotal (",a.reduce((function(e,t){return e+t.qty}),0)," items) : $",a.reduce((function(e,t){return e+t.price*t.qty}),0)]})}),Object(x.jsx)("li",{children:Object(x.jsx)("button",{type:"button",onClick:function(){e.history.push("/signin?redirect=shipping")},className:"primary block",disabled:0===a.length,children:"Proceed to checkout"})})]})})})]})})]})}function I(e){var t=e.rating,r=e.numReviews;return Object(x.jsxs)("div",{className:"rating",children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:t>=1?"fa fa-star":t>=.5?"fa fa-star-half-o":"fa fa-star-o"})," "]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:t>=2?"fa fa-star":t>=1.5?"fa fa-star-half-o":"fa fa-star-o"})," "]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:t>=3?"fa fa-star":t>=2.5?"fa fa-star-half-o":"fa fa-star-o"})," "]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:t>=4?"fa fa-star":t>=3.5?"fa fa-star-half-o":"fa fa-star-o"})," "]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("i",{className:t>=5?"fa fa-star":t>=4.5?"fa fa-star-half-o":"fa fa-star-o"})," "]}),Object(x.jsx)("span",{children:r+" reviews"})]})}function C(e){var t=e.product;return Object(x.jsx)(x.Fragment,{children:t?Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card__side card__side--front",style:{backgroundImage:"url(".concat(t.image,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center center"}}),Object(x.jsxs)("div",{className:"card__side card__side--back",children:[Object(x.jsx)("h2",{children:t.name}),Object(x.jsxs)("p",{className:"price text-center",children:["$ ",t.price]}),Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)(I,{rating:t.rating,numReviews:t.numReviews}),Object(x.jsx)(O.b,{to:"/product/".concat(t._id),className:"btn btn--white",children:"SHOPPING NOW"})]})]})]},t._id):Object(x.jsx)("p",{children:"Not Found"})})}var w=r(61);function N(){var e=Object(w.b)({loading:!0,indicator:Object(x.jsx)(w.a,{width:"50"})}),t=e.containerProps,r=e.indicatorEl;return Object(x.jsxs)("div",Object(u.a)(Object(u.a)({},t),{},{style:{margin:"auto",textAlign:"center",color:"#f0c040"},children:[r," "]}))}var T=function(){return function(){var e=Object(E.a)(f.a.mark((function e(t){var r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"PRODUCT_LIST_REQUEST"}),e.prev=1,e.next=4,S.a.get("/api/products");case 4:r=e.sent,c=r.data,t({type:"PRODUCT_LIST_SUCCESS",payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"PRODUCT_LIST_FAIL",payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"PRODUCT_DETAILS_REQUEST",payload:e}),t.prev=1,t.next=4,S.a.get("/api/products/".concat(e));case 4:c=t.sent,n=c.data,r({type:"PRODUCT_DETAILS_SUCCESS",payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:"PRODUCT_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()};function A(){var e=Object(i.c)((function(e){return e.ProductList})),t=e.loading,r=e.error,n=e.products,a=Object(i.b)();return Object(c.useEffect)((function(){a(T())}),[a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("section",{style:{backgroundImage:"linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url(".concat("/images/hero-1.jpg",")")},children:Object(x.jsx)("div",{className:"row top",style:{justifyContent:"center"},children:Object(x.jsxs)("div",{className:"text-center text_banner",children:[Object(x.jsxs)("h1",{className:"heading",children:["Creative Design ",Object(x.jsx)("br",{})," Modern & Exclusive Furniture"]}),Object(x.jsx)("button",{className:"link-red",children:"SHOPING NOW"})]})})}),t?Object(x.jsx)(N,{}):r?Object(x.jsx)(g,{variant:"danger",children:r}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"row center",style:{margin:"20px 0"},children:n.slice(0,4).map((function(e){return Object(x.jsx)(C,{product:e},e._id)}))}),Object(x.jsx)("div",{className:"row center",style:{padding:"10px 0"},children:Object(x.jsx)(O.b,{className:"link-red",to:"/productsAll",children:"Show More"})})]})]})}var P=r(3);function U(e){var t=e.match.params.id,r=Object(i.c)((function(e){return e.productDetails})),n=Object(c.useState)(1),a=Object(P.a)(n,2),s=a[0],o=a[1],d=r.loading,l=r.error,u=r.product,b=Object(i.b)();return Object(c.useEffect)((function(){b(D(t))}),[b]),Object(x.jsx)("main",{children:d?Object(x.jsx)(N,{}):l?Object(x.jsx)(g,{variant:"danger",children:l}):Object(x.jsxs)("div",{className:"row top",children:[Object(x.jsx)("div",{className:"col-2",children:Object(x.jsx)("img",{className:"large",src:u.image,alt:u.name})}),Object(x.jsx)("div",{className:"col-1",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:u.name}),Object(x.jsx)("li",{children:u.brand}),Object(x.jsx)("li",{children:Object(x.jsx)(I,{rating:u.rating,numReviews:u.numReviews})}),Object(x.jsxs)("li",{children:["Price : $ ",u.price]}),Object(x.jsx)("li",{children:Object(x.jsxs)("p",{children:["Description : ",u.description]})})]})}),Object(x.jsx)("div",{className:"col-1",children:Object(x.jsx)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",padding:"15px 15px 25px"},children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Price"}),Object(x.jsx)("div",{children:u.price})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Status"}),Object(x.jsx)("div",{children:u.countInStock>0?Object(x.jsx)("span",{className:"success",children:"In Stock"}):Object(x.jsx)("span",{className:"error",children:"Unavailable"})})]})}),u.countInStock>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Qty"}),Object(x.jsx)("select",{value:s,onChange:function(e){return o(e.target.value)},children:Object(j.a)(Array(u.countInStock).keys()).map((function(e){return Object(x.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("button",{onClick:function(){e.history.push("/cart/".concat(t,"?qty=").concat(s))},className:"primary block",children:["Add to Cart"," "]})})]})]})})})]})})}var k=r(20),L=r(19);function F(e){var t=Object(i.b)(),r=e.location.search?e.location.search.split("=")[1]:"/",n=Object(i.c)((function(e){return e.userRegister})),a=n.userInfo,s=n.loading,o=n.error;return Object(c.useEffect)((function(){a&&e.history.push(r)}),[e.history,r,a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"REGISTER"})}),Object(x.jsx)("main",{children:Object(x.jsx)(k.b,{initialValues:{username:"",email:"",password:"",confirmPassword:""},validationSchema:L.a().shape({username:L.c().required("UserName is Required").min(3,"Name should have a minimum length of 3").max(30,"name should have a maximum length of 30"),email:L.c().required("Email is Required").email("Not a valid email"),password:L.c().required("password is Required").min(8,"should have a minimum length of 8").max(30,"should have a maximum length of 30").matches(/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})/,"Password Must contain captial and small Letters"),confirmPassword:L.c().required("password is Required").oneOf([L.b("password")],"Passwords does not match")}),onSubmit:function(e,r){var c,n,a,s=r.setSubmitting;console.log(e.username,e.email,e.password),t((c=e.username,n=e.email,a=e.password,function(){var e=Object(E.a)(f.a.mark((function e(t){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_REGISTER_REQUEST",payload:{name:c,email:n,password:a}}),e.prev=1,e.next=4,S.a.post("/api/users/register",{name:c,email:n,password:a});case 4:r=e.sent,s=r.data,t({type:"USER_REGISTER_SUCCESS",payload:s}),t({type:"USER_SIGIN_SUCCESS",payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"USER_REGISTER_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())),s(!1)},children:function(e){var t=e.values,c=e.errors,n=e.touched,a=e.handleChange,i=e.handleBlur,d=e.handleSubmit,l=e.isSubmitting;return Object(x.jsxs)("form",{className:"form",onSubmit:d,children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Resgister"})}),s&&Object(x.jsx)(N,{}),o&&Object(x.jsx)(g,{variant:"danger",children:o}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"name",children:"User Name"}),Object(x.jsx)(k.a,{type:"text",id:"name",name:"username",placeholder:"Enter Name",onChange:a,onBlur:i,value:t.username,className:n.username&&c.username?"invalid":"valid"}),Object(x.jsxs)("span",{className:"text-vaildtion",children:[" ",c.username&&c.username]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(x.jsx)(k.a,{type:"email",id:"email",name:"email",placeholder:"Enter email",onChange:a,onBlur:i,value:t.email,className:n.email&&c.email?"invalid":"valid"}),Object(x.jsxs)("span",{className:"text-vaildtion",children:[" ",c.email&&c.email]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)(k.a,{type:"password",placeholder:"Enter password",name:"password",onChange:a,onBlur:i,value:t.password,className:n.password&&c.password?"invalid":"valid"}),Object(x.jsx)("span",{className:"text-vaildtion",children:c.password&&c.password})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"ConfirmPassword",children:"Confirm Password"}),Object(x.jsx)(k.a,{type:"password",name:"confirmPassword",placeholder:"Enter Confirm Password",onChange:a,onBlur:i,value:t.confirmPassword,className:n.confirmPassword&&c.confirmPassword?"invalid":"valid"}),Object(x.jsxs)("span",{className:"text-vaildtion",children:[" ",c.confirmPassword&&c.confirmPassword]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{type:"submit",className:"primary",disabled:l,children:"Register"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsxs)("div",{children:["Already have an account?",Object(x.jsx)(O.b,{to:"/signin?redirect=".concat(r),children:" Sign In"})]})]})]})}})})]})}function q(e){var t=Object(i.b)(),r=e.location.search?e.location.search.split("=")[1]:"/",n=Object(i.c)((function(e){return e.userSignin})),a=n.userInfo,s=n.loading,o=n.error;return Object(c.useEffect)((function(){a&&e.history.push(r)}),[e.history,r,a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"SIGNIN"})}),Object(x.jsx)("main",{children:Object(x.jsx)(k.b,{initialValues:{email:"",password:""},validationSchema:L.a().shape({email:L.c().required("Email is Required").email("Not a valid email"),password:L.c().required("password is Required").min(8,"should have a minimum length of 8").max(30,"should have a maximum length of 30").matches(/^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{8,})/,"Password Must contain captial and small Letters")}),onSubmit:function(e,r){var c,n,a=r.setSubmitting;console.log(e.email,e.password),t((c=e.email,n=e.password,function(){var e=Object(E.a)(f.a.mark((function e(t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_SIGIN_REQUEST",payload:{email:c,password:n}}),e.prev=1,e.next=4,S.a.post("/api/users/signin",{email:c,password:n});case 4:r=e.sent,a=r.data,console.log(a),t({type:"USER_SIGIN_SUCCESS",payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"USER_SIGIN_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())),a(!1)},children:function(e){var t=e.values,r=e.errors,c=e.touched,n=e.handleChange,a=e.handleBlur,i=e.handleSubmit,d=e.isSubmitting;return Object(x.jsxs)("form",{className:"form",onSubmit:i,children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Sign In"})}),s&&Object(x.jsx)(N,{}),o&&Object(x.jsx)(g,{variant:"danger",children:o}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(x.jsx)(k.a,{type:"email",id:"email",name:"email",onChange:n,onBlur:a,value:t.email,placeholder:"Enter email",className:c.email&&r.email?"invalid":"valid"}),Object(x.jsx)("span",{className:"text-vaildtion",children:r.email&&r.email})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)(k.a,{type:"password",id:"password",name:"password",onChange:n,onBlur:a,value:t.password,placeholder:"Enter password",className:c.password&&r.password?"invalid":"valid"}),Object(x.jsx)("span",{className:"text-vaildtion",children:r.password&&r.password})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{type:"submit",className:"primary",disabled:d,children:"Sign In"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("div",{children:Object(x.jsx)(O.b,{to:"/register",children:"Create your account"})})]})]})}})})]})}function G(e){return Object(x.jsxs)("div",{className:"row checkout-steps",children:[Object(x.jsx)("div",{className:e.step1?"active":"",children:"Sign-In"}),Object(x.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(x.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(x.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})}function M(e){var t=Object(i.c)((function(e){return e.userSignin})).userInfo,r=Object(i.c)((function(e){return e.cart})).shippingAddress;t||e.history.push("/signin");var n=Object(c.useState)(r.fullName),a=Object(P.a)(n,2),s=a[0],o=a[1],d=Object(c.useState)(r.address),l=Object(P.a)(d,2),j=l[0],u=l[1],b=Object(c.useState)(r.city),h=Object(P.a)(b,2),p=h[0],O=h[1],m=Object(c.useState)(r.postalCode),g=Object(P.a)(m,2),v=g[0],f=g[1],E=Object(c.useState)(r.country),y=Object(P.a)(E,2),S=y[0],R=y[1],_=Object(i.b)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(G,{step1:!0,step2:!0}),Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"SHIPPING"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("form",{className:"form",onSubmit:function(t){var r;t.preventDefault(),_((r={fullName:s,address:j,city:p,postalCode:v,country:S},function(e){e({type:"CART_SAVE_SHIPPING",payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r))})),e.history.push("/payment")},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Shipping Address"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"fullName",children:"Full Name"}),Object(x.jsx)("input",{type:"text",id:"fullName",placeholder:"Enter full name",value:s,onChange:function(e){return o(e.target.value)},required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"address",children:"Address"}),Object(x.jsx)("input",{type:"text",id:"address",placeholder:"Enter address",value:j,onChange:function(e){return u(e.target.value)},required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"city",children:"City"}),Object(x.jsx)("input",{type:"text",id:"city",placeholder:"Enter city",value:p,onChange:function(e){return O(e.target.value)},required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(x.jsx)("input",{type:"text",id:"postalCode",placeholder:"Enter postal code",value:v,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"country",children:"Country"}),Object(x.jsx)("input",{type:"text",id:"country",placeholder:"Enter country",value:S,onChange:function(e){return R(e.target.value)},required:!0})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Continue"})]})]})})]})}function J(e){var t=Object(c.useState)("PayPal"),r=Object(P.a)(t,2),n=r[0],a=r[1];Object(i.c)((function(e){return e.cart})).shippingAddress.address||e.history.push("/shipping");var s=Object(i.b)();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(G,{step1:!0,step2:!0,step3:!0}),Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"PAYMENT"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("form",{className:"form",onSubmit:function(t){var r;t.preventDefault(),s((r=n,function(e){e({type:"CART_SAVE_PAYMENT",payload:r})})),e.history.push("/placeorder")},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Payment"})}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"radio",id:"paypal",value:"PayPal",name:"paymentMethod",required:!0,checked:!0,onChange:function(e){return a(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"payment",children:"PayPal"})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"radio",id:"stripe",value:"Stripe",name:"paymentMethod",required:!0,onChange:function(e){return a(e.target.value)}}),Object(x.jsx)("label",{htmlFor:"stripe",children:"Stripe"})]})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Continue"})]})]})})]})}function z(e){var t=Object(i.c)((function(e){return e.cart}));t.paymentMethod||e.history.push("/payment");var r=Object(i.c)((function(e){return e.orderCreate})),n=r.loading,a=r.success,s=r.error,o=r.order,d=function(e){return Number(e.toFixed(2))};t.itemsPrice=d(t.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),t.shippingPrice=t.itemsPrice>100?d(0):d(10),t.taxPrice=d(.15*t.itemsPrice),t.totalPrice=t.itemsPrice+t.shippingPrice+t.taxPrice;var l=Object(i.b)();return Object(c.useEffect)((function(){a&&(e.history.push("/order/".concat(o._id)),l({type:"ORDER_CREATE_RESET"}))}),[l,o,e.history,a]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(G,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"ORDER"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"row top",children:[Object(x.jsx)("div",{className:"col-2",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Shipping"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Name:"})," ",t.shippingAddress.fullName," ",Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Address:"})," ",t.shippingAddress.address,", ",t.shippingAddress.city,", ",t.shippingAddress.postalCode,", ",t.shippingAddress.country]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Payment"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Method:"})," ",t.paymentMethod]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Order Items"}),Object(x.jsx)("ul",{children:t.cartItems.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(x.jsx)("div",{className:"min-30",children:Object(x.jsx)(O.b,{to:"/product/".concat(e.product),children:e.name})}),Object(x.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(x.jsx)("div",{className:"col-1",children:Object(x.jsx)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("h2",{children:"Order Summary"})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Items"}),Object(x.jsxs)("div",{children:["$",t.itemsPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Shipping"}),Object(x.jsxs)("div",{children:["$",t.shippingPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Tax"}),Object(x.jsxs)("div",{children:["$",t.taxPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("strong",{children:"Total"})}),Object(x.jsx)("div",{children:Object(x.jsxs)("strong",{children:["$",t.totalPrice.toFixed(2)]})})]})}),Object(x.jsx)("li",{children:Object(x.jsx)("button",{type:"button",className:"primary block",onClick:function(){l(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ORDER_CREATE_REGUEST",payload:e}),t.prev=1,c=JSON.parse(window.localStorage.getItem("userInfo")),console.log(c.token),t.next=6,S.a.post("/api/orders",e,{headers:{Authorization:"".concat(c.token)}});case 6:n=t.sent,a=n.data,r({type:"ORDER_CREATE_SUCCESS",payload:a.order}),r({type:"CART_EMPTY"}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r({type:"ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(Object(u.a)(Object(u.a)({},t),{},{orderItems:t.cartItems}))),console.log("5555554")},disabled:0===t.cartItems.length,children:"Place Order"})}),n&&Object(x.jsx)(N,{}),s&&Object(x.jsx)(g,{variant:"danger",children:s})]})})})]})})]})}var Q=r(100);function V(e){var t=e.match.params.id,r=Object(c.useState)(!1),n=Object(P.a)(r,2),a=n[0],s=n[1],o=Object(i.c)((function(e){return e.userSignin})).userInfo,d=Object(i.c)((function(e){return e.orderDetails})),l=d.order,j=d.loading,u=d.error,b=Object(i.b)(),h=Object(i.c)((function(e){return e.orderPay})),p=h.loading,m=h.success,v=h.error,y=Object(i.c)((function(e){return e.orderDeliver})),R=y.loading,_=y.error,I=y.success;Object(c.useEffect)((function(){var e=function(){var e=Object(E.a)(f.a.mark((function e(){var t,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javaScript",c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.async=!0,c.onload=function(){s(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!l||m||I||l&&l._id!==t?(b({type:"ORDER_PAY_RESET"}),b({type:"ORDER_DELIVER_RESET"}),b(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"ORDER_DETAILS_REGUEST",payload:e}),t.prev=1,c=JSON.parse(window.localStorage.getItem("userInfo")),console.log(c.token),t.next=6,S.a.get("/api/orders/".concat(e),{headers:{Authorization:"".concat(c.token)}});case 6:n=t.sent,a=n.data,console.log(a),r({type:"ORDER_DETAILS_SUCCESS",payload:a}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:"ORDER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}(t))):l.isPaid||(window.paypal?s(!0):e())}),[b,l,t,a,m,I]);return j?Object(x.jsx)(N,{}):u?Object(x.jsx)(g,{variant:"danger",children:u}):Object(x.jsxs)("main",{children:[Object(x.jsxs)("h1",{children:["Order ",l._id]}),Object(x.jsxs)("div",{className:"row top",children:[Object(x.jsx)("div",{className:"col-2",children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Shipping"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Name:"})," ",l.shippingAddress.fullName," ",Object(x.jsx)("br",{}),Object(x.jsx)("strong",{children:"Address:"})," ",l.shippingAddress.address,","," ",l.shippingAddress.city,","," ",l.shippingAddress.postalCode,","," ",l.shippingAddress.country]}),l.isDelivered?Object(x.jsxs)(g,{variant:"success",children:["Delivered at ",l.deliveredAt]}):Object(x.jsx)(g,{variant:"danger",children:"Not Delivered"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Payment"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("strong",{children:"Method:"})," ",l.paymentMethod]}),l.isPaid?Object(x.jsxs)(g,{variant:"success",children:["Delivered at ",l.paidAt]}):Object(x.jsx)(g,{variant:"danger",children:"Not Paid"})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:[Object(x.jsx)("h2",{children:"Order Items"}),Object(x.jsx)("ul",{children:l.orderItems.map((function(e){return Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(x.jsx)("div",{className:"min-30",children:Object(x.jsx)(O.b,{to:"/product/".concat(e.product),children:e.name})}),Object(x.jsxs)("div",{children:[e.qty," x $",e.price," = $",e.qty*e.price]})]})},e.product)}))})]})})]})}),Object(x.jsx)("div",{className:"col-1",children:Object(x.jsx)("div",{className:"card-body",style:{border:"0.1rem #c0c0c0 solid",borderRadius:".5rem",margin:"1rem",backgroundColor:"#f8f8f8"},children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)("h2",{children:"Order Summary"})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Items"}),Object(x.jsxs)("div",{children:["$",l.itemsPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Shipping"}),Object(x.jsxs)("div",{children:["$",l.shippingPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:"Tax"}),Object(x.jsxs)("div",{children:["$",l.taxPrice.toFixed(2)]})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{children:Object(x.jsx)("strong",{children:"Order Total"})}),Object(x.jsx)("div",{children:Object(x.jsxs)("strong",{children:["$",l.totalPrice.toFixed(2)]})})]})}),!l.isPaid&&Object(x.jsx)("li",{children:a?Object(x.jsxs)(x.Fragment,{children:[v&&Object(x.jsx)(g,{variant:"danger",children:v}),p&&Object(x.jsx)(N,{}),Object(x.jsx)(Q.PayPalButton,{amount:l.totalPrice,onSuccess:function(e){b(function(e,t){return function(){var r=Object(E.a)(f.a.mark((function r(c){var n,a,s;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c({type:"ORDER_PAY_REGUEST",payload:{order:e,paymentResult:t}}),r.prev=1,n=JSON.parse(window.localStorage.getItem("userInfo")),console.log(n.token),r.next=6,S.a.put("/api/orders/".concat(e._id,"/pay"),t,{headers:{Authorization:"".concat(n.token)}});case 6:a=r.sent,s=a.data,c({type:"ORDER_PAY_SUCCESS",payload:s}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(1),c({type:"ORDER_PAY_FAIL",payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[1,11]])})));return function(e){return r.apply(this,arguments)}}()}(l,e))}})]}):Object(x.jsx)(N,{})}),o.isAdmin&&l.isPaid&&!l.isDelivered&&Object(x.jsxs)("li",{children:[R&&Object(x.jsx)(N,{}),_&&Object(x.jsx)(g,{variant:"danger",children:_}),Object(x.jsx)("button",{type:"button",className:"primary block",onClick:function(){b(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:"ORDER_DELIVER_REQUEST",payload:e});try{c=JSON.parse(window.localStorage.getItem("userInfo")),n=S.a.put("/api/orders/".concat(e,"/deliver"),{},{headers:{Authorization:"".concat(c.token)}}),a=n.data,r({type:"ORDER_DELIVER_SUCCESS",payload:a})}catch(u){s=u.response&&u.response.data.message?u.response.data.message:u.message,r({type:"ORDER_DELIVER_FAIL",payload:s})}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l._id))},children:"Deliver Order"})]})]})})})]})]})}function B(e){var t=Object(i.c)((function(e){return e.orderMineList})),r=t.loading,n=t.error,a=t.orders,s=Object(i.b)();return Object(c.useEffect)((function(){s(function(){var e=Object(E.a)(f.a.mark((function e(t){var r,c,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ORDER_MINE_LIST_REGUEST"}),e.prev=1,r=JSON.parse(window.localStorage.getItem("userInfo")),console.log(r.token),e.next=6,S.a.get("/api/orders/mine",{headers:{Authorization:"".concat(r.token)}});case 6:c=e.sent,n=c.data,t({type:"ORDER_MINE_LIST_SUCCESS",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"ORDER_MINE_LIST_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[s]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"ORDER HISTORY"})}),Object(x.jsxs)("main",{children:[Object(x.jsx)("h1",{children:" Order History"}),r?Object(x.jsx)(N,{}):n?Object(x.jsx)(g,{variant:"danger",children:n}):Object(x.jsx)("div",{style:{overflowX:"auto",width:"100%",display:"block"},children:Object(x.jsxs)("table",{className:"table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"ID"}),Object(x.jsx)("th",{children:"DATE"}),Object(x.jsx)("th",{children:"TOTAL"}),Object(x.jsx)("th",{children:"PAID"}),Object(x.jsx)("th",{children:"DELIVERED"}),Object(x.jsx)("th",{children:"ACTIONS"})]})}),Object(x.jsx)("tbody",{children:a.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t._id}),Object(x.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(x.jsx)("td",{children:t.totalPrice.toFixed(2)}),Object(x.jsx)("td",{children:t.isPaid?t.paidAt.subString(0,10):"No"}),Object(x.jsx)("td",{children:t.isDelivered?t.deliveredAt.subString(0,10):"No"}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"})})]},t._id)}))})]})})]})]})}function $(){var e=Object(c.useState)(""),t=Object(P.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(""),s=Object(P.a)(a,2),o=s[0],d=s[1],l=Object(c.useState)(""),j=Object(P.a)(l,2),u=j[0],b=j[1],h=Object(c.useState)(""),p=Object(P.a)(h,2),O=p[0],m=p[1],v=Object(c.useState)(""),y=Object(P.a)(v,2),R=(y[0],y[1]),_=Object(i.c)((function(e){return e.userSignin})).userInfo,I=Object(i.c)((function(e){return e.userDetails})),C=I.loading,w=I.error,T=I.user,D=Object(i.c)((function(e){return e.userUpdateProfile})),A=D.success,U=D.error,k=D.loading,L=Object(i.b)();Object(c.useEffect)((function(){var e;T?(n(T.name),d(T.email)):(L({type:"USER_UPDATE_PROFILE_REST"}),L((e=_._id,function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_DETAILS_REGUEST",payload:e}),t.prev=1,c=JSON.parse(window.localStorage.getItem("userInfo")),t.next=5,S.a.get("/api/users/".concat(e),{headers:{Authorization:"".concat(c.token)}});case 5:n=t.sent,a=n.data,r({type:"USER_DETAILS_SUCCESS",payload:a}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),r({type:"USER_DETAILS_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())))}),[L,_._id,T]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"PROFILE"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),u!==O?R("Password and confirm password are not match"):L(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"USER_UPDATE_PROFILE_REGUEST",payload:e}),t.prev=1,c=JSON.parse(window.localStorage.getItem("userInfo")),t.next=5,S.a.put("/api/users/profile",e,{headers:{Authorization:"".concat(c.token)}});case 5:n=t.sent,a=n.data,r({type:"USER_UPDATE_PROFILE_SUCCESS",payload:a}),r({type:"USER_SIGIN_SUCCESS",payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:"USER_UPDATE_PROFILE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}()}({userId:T._id,name:r,email:o,password:u}))},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"User Profile"})}),C?Object(x.jsx)(N,{}):w?Object(x.jsx)(g,{variant:"danger",children:w}):Object(x.jsxs)(x.Fragment,{children:[k&&Object(x.jsx)(N,{}),U&&Object(x.jsx)(g,{variant:"danger",children:U}),A&&Object(x.jsx)(g,{variant:"success",children:"Profile Update SuccessFully"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:r,onChange:function(e){n(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email"}),Object(x.jsx)("input",{id:"email",type:"email",placeholder:"Enter email",value:o,onChange:function(e){d(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password"}),Object(x.jsx)("input",{id:"password",type:"password",placeholder:"Enter password",onChange:function(e){b(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm password"}),Object(x.jsx)("input",{id:"confirmpassword",type:"password",placeholder:"Enter Confirm password",onChange:function(e){m(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{type:"submit",className:"primary",children:"Update"})]})]})]})})]})}var Y=r(47),H=["component"];function W(e){var t=e.component,r=Object(Y.a)(e,H),c=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(x.jsx)(m.b,Object(u.a)(Object(u.a)({},r),{},{render:function(e){return c?Object(x.jsx)(t,Object(u.a)({},e)):Object(x.jsx)(m.a,{to:"/signin"})}}))}function Z(e){var t=Object(i.c)((function(e){return e.ProductList})),r=t.loading,n=t.error,a=t.products,s=Object(i.c)((function(e){return e.productDelete})),o=s.loading,d=s.error,l=s.success,j=Object(i.b)();Object(c.useEffect)((function(){l&&j({type:"PRODUCT_DELETE_RESET"}),j(T())}),[j,l]);var u=function(e){var t;window.confirm("Are you sure to delete?")&&j((t=e._id,function(){var e=Object(E.a)(f.a.mark((function e(r){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"PRODUCT_DELETE_REQUEST",payload:t});try{c=JSON.parse(window.localStorage.getItem("userInfo")),S.a.delete("/api/products/".concat(t),{headers:{Authorization:"".concat(c.token)}}).data,r({type:"PRODUCT_DELETE_SUCCESS"})}catch(n){a=n.response&&n.response.data.message?n.response.data.message:n.message,r({type:"PRODUCT_DELETE_FAIL",payload:a})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(x.jsxs)("main",{children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("h1",{children:"Products"}),Object(x.jsx)(O.b,{className:"link-button-primary",to:"/products/create",children:"Create Product"})]}),o&&Object(x.jsx)(N,{}),d&&Object(x.jsx)(g,{variant:"danger",children:d}),r?Object(x.jsx)(N,{}):n?Object(x.jsx)(g,{variant:"danger",children:n}):Object(x.jsxs)("table",{className:"table table-responsive",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"ID"}),Object(x.jsx)("th",{children:"NAME"}),Object(x.jsx)("th",{children:"PRICE"}),Object(x.jsx)("th",{children:"CATEGORY"}),Object(x.jsx)("th",{children:"BRAND"}),Object(x.jsx)("th",{children:"ACTIONS"})]})}),Object(x.jsx)("tbody",{children:a.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t._id}),Object(x.jsx)("td",{children:t.name}),Object(x.jsx)("td",{children:t.price}),Object(x.jsx)("td",{children:t.category}),Object(x.jsx)("td",{children:t.brand}),Object(x.jsxs)("td",{children:[Object(x.jsx)("button",{type:"button",className:"small btn-primary",onClick:function(){return e.history.push("/product/".concat(t._id,"/edit"))},children:"Edit"}),Object(x.jsx)("button",{type:"button",className:"small btn-danger",onClick:function(){return u(t)},children:"Delete"})]})]},t._id)}))})]})]})}var X=["component"];function K(e){var t=e.component,r=Object(Y.a)(e,X),c=Object(i.c)((function(e){return e.userSignin})).userInfo;return Object(x.jsx)(m.b,Object(u.a)(Object(u.a)({},r),{},{render:function(e){return c&&c.isAdmin?Object(x.jsx)(t,Object(u.a)({},e)):Object(x.jsx)(m.a,{to:"/signin"})}}))}function ee(e){var t=e.match.params.id,r=Object(c.useState)(""),n=Object(P.a)(r,2),a=n[0],s=n[1],o=Object(c.useState)(""),d=Object(P.a)(o,2),l=d[0],j=d[1],u=Object(c.useState)(null),b=Object(P.a)(u,2),h=b[0],p=b[1],O=Object(c.useState)(""),m=Object(P.a)(O,2),v=m[0],y=m[1],R=Object(c.useState)(""),_=Object(P.a)(R,2),I=_[0],C=_[1],w=Object(c.useState)(""),T=Object(P.a)(w,2),A=T[0],U=T[1],k=Object(c.useState)(""),L=Object(P.a)(k,2),F=L[0],q=L[1],G=Object(i.c)((function(e){return e.productDetails})),M=G.loading,J=G.error,z=G.product,Q=Object(i.c)((function(e){return e.productUpdate})),V=Q.loading,B=Q.error,$=Q.success,Y=Object(c.useState)(!1),H=Object(P.a)(Y,2),W=H[0],Z=H[1],X=Object(c.useState)(""),K=Object(P.a)(X,2),ee=K[0],te=K[1],re=Object(i.b)();Object(c.useEffect)((function(){$&&e.history.push("/productslist"),!z||z._id!==t||$?(re({type:"PRODUCT_UPDATE_RESET"}),re(D(t))):(s(z.name),j(z.price),p(z.image),y(z.category),C(z.countInStock),U(z.brand),q(z.description))}),[z,re,t,$,e.history]);var ce=Object(i.c)((function(e){return e.userSignin})).userInfo,ne=function(){var e=Object(E.a)(f.a.mark((function e(t){var r,c,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],p(URL.createObjectURL(r)),(c=new FormData).append("image",r),Z(!0),e.prev=5,e.next=8,S.a.post("/api/uploads",c,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(ce.token)}});case 8:n=e.sent,a=n.data,p(a),Z(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),te(e.t0.message),Z(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("main",{children:Object(x.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),re(function(e){return function(){var t=Object(E.a)(f.a.mark((function t(r){var c,n,a,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"PRODUCT_UPDATE_REQUEST",payload:e}),t.prev=1,c=JSON.parse(window.localStorage.getItem("userInfo")),t.next=5,S.a.put("/api/products/".concat(e._id),e,{headers:{Authorization:"".concat(c.token)}});case 5:n=t.sent,a=n.data,r({type:"PRODUCT_UPDATE_SUCCESS",payload:a}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),s=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:"PRODUCT_UPDATE_FAIL",error:s});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}({_id:t,name:a,price:l,image:h,category:v,brand:A,countInStock:I,description:F}))},children:[Object(x.jsx)("div",{children:Object(x.jsxs)("h1",{children:["Edit Product ",t]})}),V&&Object(x.jsx)(N,{}),B&&Object(x.jsx)(g,{variant:"danger",children:B}),M?Object(x.jsx)(N,{}):J?Object(x.jsx)(g,{variant:"danger",children:J}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:"rounded-circle",src:h,alt:"image"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"price",children:"Price"}),Object(x.jsx)("input",{id:"price",type:"text",placeholder:"Enter price",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"imageFile",children:"Image File"}),Object(x.jsx)("input",{type:"file",id:"imageFile",label:"Choose Image",onChange:ne}),W&&Object(x.jsx)(N,{}),ee&&Object(x.jsx)(g,{variant:"danger",children:ee})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"category",children:"Category"}),Object(x.jsx)("input",{id:"category",type:"text",placeholder:"Enter category",value:v,onChange:function(e){return y(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(x.jsx)("input",{id:"brand",type:"text",placeholder:"Enter brand",value:A,onChange:function(e){return U(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"countInStock",children:"Count In Stock"}),Object(x.jsx)("input",{id:"countInStock",type:"text",placeholder:"Enter countInStock",value:I,onChange:function(e){return C(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"description",children:"Description"}),Object(x.jsx)("textarea",{id:"description",rows:"3",type:"text",placeholder:"Enter description",value:F,onChange:function(e){return q(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Update"})]})]})]})})}var te=r(15);function re(){var e=Object(i.c)((function(e){return e.cart})).cartItems,t=Object(i.c)((function(e){return e.userSignin})).userInfo,r=Object(c.useState)(!1),n=Object(P.a)(r,2),a=n[0],s=n[1];var o=Object(i.b)();return Object(x.jsx)("header",{style:{padding:"1.4rem 0",width:"100%"},children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"header-navbar",children:[Object(x.jsx)("div",{children:Object(x.jsx)(O.b,{className:"brand",to:"/",children:"Furniture"})}),Object(x.jsx)("div",{className:"navbar-toggle",onClick:function(){s(!a)},children:Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-menu-2",width:"32",height:"30",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#ffffff",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(x.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(x.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),Object(x.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),Object(x.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]})})]}),Object(x.jsxs)("div",{className:"navbar-collapse ".concat(a?"close":" "),children:[Object(x.jsxs)(O.b,{to:"/cart",children:["Cart",e.length>0&&Object(x.jsx)("span",{className:"badge",children:e.length})]}),t?Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsxs)(O.b,{to:"#",children:[t.name," ",Object(x.jsx)("i",{className:"fa fa-caret-down"})]}),Object(x.jsxs)("ul",{className:"dropdown-content",children:[Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/profile",children:"User Profile"})}),Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/orderhistory",children:"Order History"})}),Object(x.jsxs)("li",{children:[" ",Object(x.jsx)(O.b,{to:"#signout",onClick:function(){o((function(e){localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress"),e({type:"USER_SIGNOUT"})}))},children:"SignOut"})]})]})]}):Object(x.jsx)(O.b,{to:"/signin",children:"Sign in"}),t&&t.isAdmin&&Object(x.jsxs)("div",{className:"dropdown",children:[Object(x.jsxs)(O.b,{to:"#admin",children:["Admin ",Object(x.jsx)("i",{className:"fa fa-caret-down"})]}),Object(x.jsxs)("ul",{className:"dropdown-content",children:[Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/dashboard",children:"Dashboard"})}),Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/productslist",children:"Products"})}),Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/orderlist",children:"Orders"})}),Object(x.jsx)("li",{children:Object(x.jsx)(O.b,{to:"/userList",children:"Users"})})]})]})]})]})})}function ce(){return Object(x.jsx)("div",{children:Object(x.jsx)("footer",{className:"row center",style:{padding:"1.4rem 0"},children:"Alt right reserved"})})}function ne(e){var t=Object(i.c)((function(e){return e.orderList})),r=t.loading,n=t.error,a=t.orders,s=Object(i.c)((function(e){return e.orderDelete})),o=s.loading,d=s.error,l=s.success;console.log(a);var j=Object(i.b)();Object(c.useEffect)((function(){j({type:"ORDER_DELETE_RESET"}),j(function(){var e=Object(E.a)(f.a.mark((function e(t){var r,c,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"ORDER_LIST_REQUEST"}),e.prev=1,r=JSON.parse(window.localStorage.getItem("userInfo")),e.next=5,S.a.get("/api/orders/",{headers:{Authorization:"".concat(r.token)}});case 5:c=e.sent,n=c.data,console.log(n),t({type:"ORDER_LIST_SUCCESS",payload:n}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:"ORDER_LIST_FAIL",payload:a});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())}),[j,l]);var u=function(e){var t;window.confirm("Are you sure to delete?")&&(j((t=e._id,function(){var e=Object(E.a)(f.a.mark((function e(r){var c,a,s,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r({type:"ORDER_DELETE_REQUEST",payload:t});try{c=JSON.parse(window.localStorage.getItem("userInfo")),a=S.a.delete("/api/orders/".concat(t),{headers:{Authorization:"".concat(c.token)}}),s=a.data,r({type:"ORDER_DELETE_SUCCESS",payload:s})}catch(n){i=n.response&&n.response.data.message?n.response.data.message:n.message,r({type:"ORDER_DELETE_FAIL",payload:i})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),window.location.reload())};return Object(x.jsx)("main",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Orders"}),o&&Object(x.jsx)(N,{}),d&&Object(x.jsx)(g,{variant:"danger",children:d}),r?Object(x.jsx)(N,{}):n?Object(x.jsx)(g,{variant:"danger",children:n}):Object(x.jsxs)("table",{className:"table table-responsive",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"ID"}),Object(x.jsx)("th",{children:"USER"}),Object(x.jsx)("th",{children:"DATE"}),Object(x.jsx)("th",{children:"TOTAL"}),Object(x.jsx)("th",{children:"PAID"}),Object(x.jsx)("th",{children:"DELIVERED"}),Object(x.jsx)("th",{children:"ACTIONS"})]})}),Object(x.jsx)("tbody",{children:a.map((function(t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t._id}),Object(x.jsx)("td",{children:t.user.name}),Object(x.jsx)("td",{children:t.createdAt.substring(0,10)}),Object(x.jsx)("td",{children:t.totalPrice.toFixed(2)}),Object(x.jsx)("td",{children:t.isPaid?t.paidAt.substring(0,10):"No"}),Object(x.jsx)("td",{children:t.isDelivered?t.deliveredAt.substring(0,10):"No"}),Object(x.jsxs)("td",{children:[Object(x.jsx)("button",{type:"button",className:"small",onClick:function(){e.history.push("/order/".concat(t._id))},children:"Details"}),Object(x.jsx)("button",{type:"button",className:"small btn-danger",onClick:function(){return u(t)},children:"Delete"})]})]},t._id)}))})]})]})})}function ae(e){var t=Object(c.useState)(""),r=Object(P.a)(t,2),n=r[0],a=r[1],s=Object(c.useState)(""),o=Object(P.a)(s,2),d=o[0],l=o[1],j=Object(c.useState)(null),u=Object(P.a)(j,2),b=u[0],h=u[1],p=Object(c.useState)(""),O=Object(P.a)(p,2),m=O[0],v=O[1],y=Object(c.useState)(""),R=Object(P.a)(y,2),_=R[0],I=R[1],C=Object(c.useState)(""),w=Object(P.a)(C,2),T=w[0],D=w[1],A=Object(c.useState)(""),U=Object(P.a)(A,2),k=U[0],L=U[1],F=Object(c.useState)(""),q=Object(P.a)(F,2),G=q[0],M=q[1],J=Object(c.useState)(""),z=Object(P.a)(J,2),Q=z[0],V=z[1],B=Object(c.useState)(!1),$=Object(P.a)(B,2),Y=$[0],H=$[1],W=Object(c.useState)(""),Z=Object(P.a)(W,2),X=Z[0],K=Z[1],ee=Object(i.b)(),te=Object(i.c)((function(e){return e.productCreate})),re=te.loading,ce=te.error,ne=te.success;Object(c.useEffect)((function(){ne&&(ee({type:"PRODUCT_CREATE_RESET"}),e.history.push("/productslist"))}),[ee,ne,e.history]);var ae=Object(i.c)((function(e){return e.userSignin})).userInfo,se=function(){var e=Object(E.a)(f.a.mark((function e(t){var r,c,n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],h(URL.createObjectURL(r)),(c=new FormData).append("image",r),H(!0),e.prev=5,e.next=8,S.a.post("/api/uploads",c,{headers:{"Content-Type":"multipart/form-data",Authorization:"".concat(ae.token)}});case 8:n=e.sent,a=n.data,h(a),H(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),K(e.t0.message),H(!1);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("main",{children:Object(x.jsxs)("form",{className:"form",onSubmit:function(e){var t;e.preventDefault(),ee((t={name:n,price:d,image:b,category:m,brand:T,rating:G,numReviews:Q,countInStock:_,description:k},function(){var e=Object(E.a)(f.a.mark((function e(r){var c,n,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:"PRODUCT_CREATE_REQUEST"}),c=JSON.parse(window.localStorage.getItem("userInfo")),e.next=5,S.a.post("/api/products",t,{headers:{Authorization:"".concat(c.token)}});case 5:n=e.sent,a=n.data,r({type:"PRODUCT_CREATE_SUCCESS",payload:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,r({type:"PRODUCT_CREATE_FAIL",payload:s});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Create Product"})}),re?Object(x.jsx)(N,{}):ce?Object(x.jsx)(g,{variant:"danger",children:ce}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:"rounded-circle",src:b})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"name",children:"Name"}),Object(x.jsx)("input",{id:"name",type:"text",placeholder:"Enter name",value:n,required:!0,onChange:function(e){return a(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"price",children:"Price"}),Object(x.jsx)("input",{id:"price",type:"number",placeholder:"Enter price",min:"0",value:d,required:!0,onChange:function(e){return l(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"imageFile",children:"Image File"}),Object(x.jsx)("input",{type:"file",id:"imageFile",label:"Choose Image",onChange:se,required:!0}),Y&&Object(x.jsx)(N,{}),X&&Object(x.jsx)(g,{variant:"danger",children:X})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"category",children:"Category"}),Object(x.jsx)("input",{id:"category",type:"text",placeholder:"Enter category",value:m,required:!0,onChange:function(e){return v(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"brand",children:"Brand"}),Object(x.jsx)("input",{id:"brand",type:"text",placeholder:"Enter brand",value:T,required:!0,onChange:function(e){return D(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"countInStock",children:"Count In Stock"}),Object(x.jsx)("input",{id:"countInStock",type:"number",min:"0",placeholder:"Enter countInStock",value:_,required:!0,onChange:function(e){return I(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"rating",children:"Rating"}),Object(x.jsx)("input",{id:"rating",type:"number",min:"0",max:"5",placeholder:"Enter Rating",value:G,required:!0,onChange:function(e){return M(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"numReviews",children:"Number Reviews"}),Object(x.jsx)("input",{id:"numReviews",type:"number",min:"0",placeholder:"Enter number reviews",value:Q,required:!0,onChange:function(e){return V(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"description",children:"Description"}),Object(x.jsx)("textarea",{id:"description",rows:"3",type:"text",placeholder:"Enter description",value:k,required:!0,onChange:function(e){return L(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)("button",{className:"primary",type:"submit",children:"Create Product"})]})]})]})})}function se(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"filter-sort",children:["Order"," ",Object(x.jsxs)("select",{value:e.sort,onChange:e.sortProducts,children:[Object(x.jsx)("option",{children:"Latest"}),Object(x.jsx)("option",{value:"lowest",children:"Lowest"}),Object(x.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(x.jsxs)("div",{className:"filter-category",children:["Filter"," ",Object(x.jsxs)("select",{value:e.category,onChange:e.filterProducts,children:[Object(x.jsx)("option",{value:"",children:"ALL"}),Object(x.jsx)("option",{value:"desk",children:"Desk"}),Object(x.jsx)("option",{value:"chairs",children:"Chairs"})]})]})]})}function ie(){var e=Object(i.c)((function(e){return e.ProductList})),t=e.loading,r=e.error,n=e.products,a=Object(c.useState)(""),s=Object(P.a)(a,2),o=s[0],d=s[1],l=Object(c.useState)({sort:"",category:"",inputVal:"",products:n}),j=Object(P.a)(l,2),u=j[0],b=j[1],h=Object(i.b)();return Object(c.useEffect)((function(){h(T())}),[h]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"heading-banner",style:{backgroundImage:'linear-gradient(to right bottom, rgba(0, 0, 0, 30%), rgba(0, 0, 0, 30%)), url("images/1.jpg")'},children:Object(x.jsx)("h1",{children:"SHOP"})}),Object(x.jsx)("main",{children:Object(x.jsxs)("div",{className:"row filter-item",children:[Object(x.jsxs)("div",{style:{position:"relative",marginTop:"10px"},children:[Object(x.jsx)("span",{style:{position:"absolute",top:"8px",left:"4px"},children:Object(x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-search",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#000000",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(x.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(x.jsx)("circle",{cx:"10",cy:"10",r:"7"}),Object(x.jsx)("line",{x1:"21",y1:"21",x2:"15",y2:"15"})]})}),Object(x.jsx)("input",{placeholder:"Search By Name",type:"text",value:o,onChange:function(e){d(e.target.value)}})]}),Object(x.jsx)(se,{category:u.category,sort:u.sort,inputVal:u.search,filterProducts:function(e){""===e.target.value?b({category:e.target.value,products:n}):b({category:e.target.value,products:n.filter((function(t){return t.category.includes(e.target.value)}))})},sortProducts:function(e){var t=e.target.value;b((function(e){return{sort:t,products:n.slice().sort((function(e,r){return"lowest"===t?e.price>r.price?1:-1:"highest"===t?e.price<r.price?1:-1:e._id<r._id?1:-1}))}}))},searchProducts:function(e){""===e.target.value?b({search:e.target.value,products:n}):b({search:e.target.value,products:n.filter((function(t){return t.name.includes(e.target.value)}))})}})]})}),t?Object(x.jsx)(N,{}):r?Object(x.jsx)(g,{variant:"danger",children:r}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"row center",children:(0===u.products.length?n:null===u||void 0===u?void 0:u.products).filter((function(e){return e.name.includes(o)})).map((function(e){return Object(x.jsx)(C,{product:e},e._id)}))})})]})}var oe=function(){var e=Object(te.a)();return Object(x.jsx)(O.a,{history:e,children:Object(x.jsxs)("div",{className:"grid-container",children:[Object(x.jsx)(re,{}),Object(x.jsx)(m.b,{path:"/",component:A,exact:!0}),Object(x.jsx)(m.b,{path:"/productsAll",component:ie,exact:!0}),Object(x.jsx)(m.b,{path:"/product/:id",component:U,exact:!0}),Object(x.jsx)(m.b,{path:"/cart/:id?",component:_}),Object(x.jsx)(m.b,{path:"/signin",component:q}),Object(x.jsx)(m.b,{path:"/register",component:F}),Object(x.jsx)(m.b,{path:"/shipping",component:M}),Object(x.jsx)(m.b,{path:"/payment",component:J}),Object(x.jsx)(m.b,{path:"/placeorder",component:z}),Object(x.jsx)(m.b,{path:"/order/:id",component:V}),Object(x.jsx)(m.b,{path:"/orderhistory",component:B}),Object(x.jsx)(m.b,{path:"/product/:id/edit",component:ee,exact:!0}),Object(x.jsx)(m.b,{path:"/products/create",component:ae,exact:!0}),Object(x.jsx)(W,{path:"/profile",component:$}),Object(x.jsx)(K,{path:"/productslist",component:Z}),Object(x.jsx)(K,{path:"/orderlist",component:ne}),Object(x.jsx)(ce,{})]})})},de=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,230)).then((function(t){var r=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),c(e),n(e),a(e),s(e)}))};s.a.render(Object(x.jsx)(i.a,{store:p,children:Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(oe,{})})}),document.getElementById("root")),de()}},[[229,1,2]]]);
//# sourceMappingURL=main.921e4443.chunk.js.map